<h1>Modules management</h1>

	

	<!-- Vlad 08/03/2012 BEGIN -->

	

	<nav id="breadcrumbs">

		<a href="#">Modules</a> &raquo; <a href="#">Add module</a>

	</nav>

	

	<h2>Add new module</h2>

	

	<form>

		<p>

			<label for="addModuleName">Module name:</label><br />

			<input type="text" name="addModuleName" id="addModuleName" style="width:50%" />

		</p>



		<p>

			<label for="addModuleDescription">Module description:</label><br />

			<textarea name="addModuleDescription" id="addModuleDescription" style="width:50%;height:500px;"></textarea>

		</p>



		<p>

			<a class="button" id="addModuleSubmit">Create module &raquo;</a>

		</p>

	</form>

	<!-- Vlad 08/03/2012 END -->

		

<!-- Vlad 08/03/2012 BEGIN -->

<div id="AI"><div>Please wait, loading...</div></div>

<script type="text/javascript">

$(window).load(function () 

{

	hideAI( );

	$( '#addModuleName' ).focus( );



	$("#addModuleSubmit").click( function( ) 

	{

		showAI( );

		var params = { moduleName : $( '#addModuleName' ).val( ).trim( ), moduleDescription: $( '#addModuleDescription' ).val( ).trim( ) };

		

		if ( !params.moduleName )  

		{

			hideAI( );

			alert( "Module name is required." );

			$( '#addModuleName' ).focus( );

			return false;

		}

		

		if ( !params.moduleDescription )  

		{

			hideAI( );

			alert( "Module description is required." );

			$( '#addModuleDescription' ).focus( );

			return false;

		}

		

		$.ajax({

		  type: "POST",

		  url: 	"createModule.py",

		  data: params }).done( 

			  function( msg ) 

				{

					hideAI( );



					if ( msg.toLowerCase( ) == "ok" ) 

					{

						alert( "The '"+ params.moduleName +"' module was successfully added!" );

						$( '#addModuleName' ).val( '' );

						$( '#addModuleDescription' ).val( '' );

					}

					else

					{

						alert( "Error: "+ msg );

					}

				});



		return false;

	});

});

</script>

<!-- Vlad 08/03/2012 END -->
